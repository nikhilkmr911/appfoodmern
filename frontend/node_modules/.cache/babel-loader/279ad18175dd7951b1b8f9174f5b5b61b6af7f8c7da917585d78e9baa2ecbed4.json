{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Nikhil/Desktop/foodel/myyapp/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Nikhil/Desktop/foodel/myyapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React from'react';import{useCart,useDispatchCart}from'../Components/ContextReducer';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Cart(){var data=useCart();var dispatch=useDispatchCart();if(data.length===0){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"m-5 w-100 text-warning text-center fs-3\",children:\"The Cart is Empty!\"})});}var handleCheckOut=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var userEmail,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:userEmail=localStorage.getItem(\"userEmail\");_context.next=3;return fetch(\"http://localhost:5000/api/auth/orderData\",{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({order_data:data,email:userEmail,order_date:new Date().toDateString()})});case 3:response=_context.sent;console.log(\"Order response: \",response);if(response.status===200){dispatch({type:\"DROP\"});}case 6:case\"end\":return _context.stop();}},_callee);}));return function handleCheckOut(){return _ref.apply(this,arguments);};}();var totalPrice=data.reduce(function(total,food){return total+food.price;},0);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container m-auto mt-5 table-responsive table-responsive-sm table-responsive-md\",children:[/*#__PURE__*/_jsxs(\"table\",{className:\"table table-hover table-dark text-white\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\" text-warning  fs-5\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Quantity\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Option\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Amount\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:data.map(function(food,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"row\",children:index+1}),/*#__PURE__*/_jsx(\"td\",{children:food.name}),/*#__PURE__*/_jsx(\"td\",{children:food.qty}),/*#__PURE__*/_jsx(\"td\",{children:food.size}),/*#__PURE__*/_jsx(\"td\",{children:food.price}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-dark text-white\",onClick:function onClick(){dispatch({type:\"REMOVE\",index:index});},children:/*#__PURE__*/_jsxs(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"16\",height:\"16\",fill:\"currentColor\",class:\"bi bi-trash\",viewBox:\"0 0 16 16\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5Zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5Zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6Z\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1ZM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118ZM2.5 3h11V2h-11v1Z\"})]})})})]});})})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"h1\",{className:\"fs-2 text-white\",children:[\"Total Price: \",totalPrice,\"/-\"]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn text-white bg-success mt-5 \",onClick:handleCheckOut,children:\" Check Out \"})})]})});}","map":{"version":3,"names":["React","useCart","useDispatchCart","Cart","data","dispatch","length","handleCheckOut","userEmail","localStorage","getItem","fetch","method","headers","body","JSON","stringify","order_data","email","order_date","Date","toDateString","response","console","log","status","type","totalPrice","reduce","total","food","price","map","index","name","qty","size"],"sources":["C:/Users/Nikhil/Desktop/foodel/myyapp/src/screens/Cart.js"],"sourcesContent":["import React from 'react'\r\nimport { useCart, useDispatchCart } from '../Components/ContextReducer';\r\n\r\nexport default function Cart() {\r\n  let data = useCart();\r\n  let dispatch = useDispatchCart();\r\n  if (data.length === 0) {\r\n    return (\r\n      <div>\r\n        <div className='m-5 w-100 text-warning text-center fs-3'>The Cart is Empty!</div>\r\n      </div>\r\n    )\r\n  }\r\n  const handleCheckOut=async()=>{\r\n    let userEmail = localStorage.getItem(\"userEmail\");\r\n    let response = await fetch(\"http://localhost:5000/api/auth/orderData\",{\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        order_data: data,\r\n        email: userEmail,\r\n        order_date: new Date().toDateString()\r\n      })\r\n    });\r\n    console.log(\"Order response: \", response)\r\n    if (response.status === 200) {\r\n      dispatch({ type: \"DROP\" })\r\n    }\r\n    \r\n  }\r\n\r\n  let totalPrice = data.reduce((total, food) => total + food.price, 0)\r\n  return (\r\n    <div>\r\n      <div className='container m-auto mt-5 table-responsive table-responsive-sm table-responsive-md' >\r\n        <table className='table table-hover table-dark text-white'>\r\n          <thead className=' text-warning  fs-5'>\r\n            <tr>\r\n              <th scope='col' >#</th>\r\n              <th scope='col' >Name</th>\r\n              <th scope='col' >Quantity</th>\r\n              <th scope='col' >Option</th>\r\n              <th scope='col' >Amount</th>\r\n              <th scope='col' ></th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {data.map((food, index) => (\r\n              <tr>\r\n                <th scope='row' >{index + 1}</th>\r\n                <td>{food.name}</td>\r\n                <td>{food.qty}</td>\r\n                <td>{food.size}</td>\r\n                <td>{food.price}</td>\r\n                <td><button type=\"button\" className=\"btn btn-dark text-white\" onClick={()=>{dispatch({type:\"REMOVE\",index:index})}}><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-trash\" viewBox=\"0 0 16 16\">\r\n  <path d=\"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5Zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5Zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6Z\"/>\r\n  <path d=\"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1ZM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118ZM2.5 3h11V2h-11v1Z\"/>\r\n</svg></button></td>\r\n                </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n        <div><h1 className='fs-2 text-white'>Total Price: {totalPrice}/-</h1></div>\r\n        <div>\r\n          <button className='btn text-white bg-success mt-5 ' onClick= { handleCheckOut } > Check Out </button>\r\n        </div>\r\n      </div>\r\n\r\n\r\n    </div>\r\n  )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}