{"ast":null,"code":"import _defineProperty from\"C:/Users/Nikhil/Desktop/foodel/myyapp/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/Nikhil/Desktop/foodel/myyapp/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:/Users/Nikhil/Desktop/foodel/myyapp/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Nikhil/Desktop/foodel/myyapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Nikhil/Desktop/foodel/myyapp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{Link,useNavigate}from'react-router-dom';import Navbar from'../Components/Navbar';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(){var _useState=useState({email:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),credentials=_useState2[0],setCredentials=_useState2[1];var navigate=useNavigate();var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var response,json;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return fetch(\"http://localhost:5000/api/auth/login\",{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:credentials.email,password:credentials.password})});case 3:response=_context.sent;_context.next=6;return response.json();case 6:json=_context.sent;console.log(json);if(json.success){localStorage.setItem('userEmail',credentials.email);localStorage.setItem('authToken',json.authToken);console.log(localStorage.getItem(\"authToken\"));navigate(\"/\");}else{alert(\"Enter Valid Credentials\");}case 9:case\"end\":return _context.stop();}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();var onChange=function onChange(e){setCredentials(_objectSpread(_objectSpread({},credentials),{},_defineProperty({},e.target.name,e.target.value)));};return/*#__PURE__*/_jsxs(\"div\",{style:{backgroundImage:'url(\"https://images.pexels.com/photos/326278/pexels-photo-326278.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1\")',height:'100vh',backgroundSize:'cover'},children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Navbar,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"w-50 m-auto mt-5 border bg-dark border-success rounded\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"m-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputEmail1\",className:\"form-labe text-white\",children:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",name:\"email\",value:credentials.email,onChange:onChange,\"aria-describedby\":\"emailHelp\"}),/*#__PURE__*/_jsx(\"div\",{id:\"emailHelp\",className:\"form-text\",children:\"We'll never share your email with anyone.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"m-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputPassword1\",className:\"form-label text-white\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",value:credentials.password,onChange:onChange,name:\"password\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"m-3 btn btn-success\",children:\"Submit\"}),/*#__PURE__*/_jsx(Link,{to:\"/CreateUser\",className:\"m-3 mx-1 btn btn-danger\",children:\"New User\"})]})})]});}","map":{"version":3,"names":["React","useState","Link","useNavigate","Navbar","Login","email","password","credentials","setCredentials","navigate","handleSubmit","e","preventDefault","fetch","method","headers","body","JSON","stringify","response","json","console","log","success","localStorage","setItem","authToken","getItem","alert","onChange","target","name","value","backgroundImage","height","backgroundSize"],"sources":["C:/Users/Nikhil/Desktop/foodel/myyapp/src/screens/Login.js"],"sourcesContent":["import React, { useState } from 'react'\r\nimport { Link, useNavigate } from 'react-router-dom'\r\nimport Navbar from '../Components/Navbar';\r\n\r\nexport default function Login() {\r\n\r\n  const [credentials, setCredentials] = useState({ email: \"\", password: \"\" })\r\n\r\n  let navigate = useNavigate();\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const response = await fetch(\"http://localhost:5000/api/auth/login\", {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({ email: credentials.email, password: credentials.password })\r\n\r\n    });\r\n\r\n    const json = await response.json()\r\n    console.log(json);\r\n\r\n    if (json.success) {\r\n      localStorage.setItem('userEmail',credentials.email);\r\n      localStorage.setItem('authToken',json.authToken);\r\n      console.log(localStorage.getItem(\"authToken\"))\r\n      navigate(\"/\");\r\n    }\r\n    else{\r\n      alert(\"Enter Valid Credentials\")\r\n    }\r\n\r\n  }\r\n  const onChange = (e) => {\r\n    setCredentials({ ...credentials, [e.target.name]: e.target.value })\r\n  }\r\n\r\n\r\n  return (\r\n    <div style={{backgroundImage: 'url(\"https://images.pexels.com/photos/326278/pexels-photo-326278.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1\")', height: '100vh', backgroundSize: 'cover' }}>\r\n      <div>\r\n        <Navbar />\r\n      </div>\r\n      <div className='container'>\r\n        <form className='w-50 m-auto mt-5 border bg-dark border-success rounded' onSubmit={handleSubmit}>\r\n          <div className=\"m-3\">\r\n            <label htmlFor=\"exampleInputEmail1\" className=\"form-labe text-white\">Email address</label>\r\n            <input type=\"email\" className=\"form-control\" name='email' value={credentials.email} onChange={onChange} aria-describedby=\"emailHelp\" />\r\n            <div id=\"emailHelp\" className=\"form-text\" >We'll never share your email with anyone.</div>\r\n          </div>\r\n          <div className=\"m-3\">\r\n            <label htmlFor=\"exampleInputPassword1\" className=\"form-label text-white\">Password</label>\r\n            <input type=\"password\" className=\"form-control\" value={credentials.password} onChange={onChange} name='password' />\r\n          </div>\r\n          <button type=\"submit\" className=\"m-3 btn btn-success\">Submit</button>\r\n          <Link to=\"/CreateUser\" className=\"m-3 mx-1 btn btn-danger\">New User</Link>\r\n        </form>\r\n\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}