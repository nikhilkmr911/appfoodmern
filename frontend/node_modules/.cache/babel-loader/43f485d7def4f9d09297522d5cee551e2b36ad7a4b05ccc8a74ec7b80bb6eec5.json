{"ast":null,"code":"import _slicedToArray from\"C:/Users/Nikhil/Desktop/foodel/myyapp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectSpread from\"C:/Users/Nikhil/Desktop/foodel/myyapp/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"C:/Users/Nikhil/Desktop/foodel/myyapp/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import React,{createContext,useContext,useReducer}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";var CartStateContext=/*#__PURE__*/createContext();var CartDispatchContext=/*#__PURE__*/createContext();var reducer=function reducer(state,action){switch(action.type){case\"ADD\":return[].concat(_toConsumableArray(state),[{id:action.id,name:action.name,qty:action.qty,size:action.size,price:action.price,img:action.img}]);case\"REMOVE\":var newArr=_toConsumableArray(state);newArr.splice(action.index,1);return newArr;case\"UPDATE\":var arr=_toConsumableArray(state);arr.find(function(food,index){if(food.id===action.id){console.log(food.qty,parseInt(action.qty),action.price+food.price);arr[index]=_objectSpread(_objectSpread({},food),{},{qty:parseInt(action.qty)+food.qty,price:action.price+food.price});}return arr;});return arr;case\"DROP\":var empArray=[];return empArray;default:console.log(\"error in reducer\");}};export var CartProvider=function CartProvider(_ref){var children=_ref.children;var _useReducer=useReducer(reducer,[]),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];return/*#__PURE__*/_jsx(CartDispatchContext.Provider,{value:dispatch,children:/*#__PURE__*/_jsx(CartStateContext.Provider,{value:state,children:children})});};export var useCart=function useCart(){return useContext(CartStateContext);};export var useDispatchCart=function useDispatchCart(){return useContext(CartDispatchContext);};","map":{"version":3,"names":["React","createContext","useContext","useReducer","CartStateContext","CartDispatchContext","reducer","state","action","type","id","name","qty","size","price","img","newArr","splice","index","arr","find","food","console","log","parseInt","empArray","CartProvider","children","dispatch","useCart","useDispatchCart"],"sources":["C:/Users/Nikhil/Desktop/foodel/myyapp/src/Components/ContextReducer.js"],"sourcesContent":["import React, {createContext, useContext, useReducer} from 'react'\r\n\r\nconst CartStateContext = createContext();\r\nconst CartDispatchContext = createContext();\r\n\r\nconst reducer = (state,action)=> {\r\n     switch(action.type){\r\n      case \"ADD\" : return [...state,{id:action.id, name:action.name, qty:action.qty, size:action.size, price:action.price, img:action.img}]\r\n      case \"REMOVE\" : \r\n      let newArr = [...state]\r\n      newArr.splice(action.index,1)\r\n      return newArr;\r\n      case \"UPDATE\":\r\n            let arr = [...state]\r\n            arr.find((food, index) => {\r\n                if (food.id === action.id) {\r\n                    console.log(food.qty, parseInt(action.qty), action.price + food.price)\r\n                    arr[index] = { ...food, qty: parseInt(action.qty) + food.qty, price: action.price + food.price }\r\n                }\r\n                return arr\r\n            })\r\n            return arr\r\n      case \"DROP\":\r\n          let empArray=[]\r\n          return empArray\r\n      default: console.log(\"error in reducer\");\r\n     }\r\n}\r\n\r\nexport const CartProvider = ({children})=> {\r\n\r\nconst[state,dispatch]= useReducer(reducer,[])\r\nreturn(\r\n  <CartDispatchContext.Provider value={dispatch}>\r\n    <CartStateContext.Provider value={state}>\r\n      {children}\r\n    </CartStateContext.Provider>\r\n  </CartDispatchContext.Provider>\r\n )\r\n}\r\n\r\nexport const useCart = () => useContext(CartStateContext);\r\nexport const useDispatchCart = () => useContext(CartDispatchContext);"],"mappings":"wXAAA,MAAOA,MAAK,EAAGC,aAAa,CAAEC,UAAU,CAAEC,UAAU,KAAO,OAAO,4CAElE,GAAMC,iBAAgB,cAAGH,aAAa,EAAE,CACxC,GAAMI,oBAAmB,cAAGJ,aAAa,EAAE,CAE3C,GAAMK,QAAO,CAAG,QAAVA,QAAO,CAAIC,KAAK,CAACC,MAAM,CAAI,CAC5B,OAAOA,MAAM,CAACC,IAAI,EACjB,IAAK,KAAK,CAAG,mCAAWF,KAAK,GAAC,CAACG,EAAE,CAACF,MAAM,CAACE,EAAE,CAAEC,IAAI,CAACH,MAAM,CAACG,IAAI,CAAEC,GAAG,CAACJ,MAAM,CAACI,GAAG,CAAEC,IAAI,CAACL,MAAM,CAACK,IAAI,CAAEC,KAAK,CAACN,MAAM,CAACM,KAAK,CAAEC,GAAG,CAACP,MAAM,CAACO,GAAG,CAAC,GACpI,IAAK,QAAQ,CACb,GAAIC,OAAM,oBAAOT,KAAK,CAAC,CACvBS,MAAM,CAACC,MAAM,CAACT,MAAM,CAACU,KAAK,CAAC,CAAC,CAAC,CAC7B,MAAOF,OAAM,CACb,IAAK,QAAQ,CACP,GAAIG,IAAG,oBAAOZ,KAAK,CAAC,CACpBY,GAAG,CAACC,IAAI,CAAC,SAACC,IAAI,CAAEH,KAAK,CAAK,CACtB,GAAIG,IAAI,CAACX,EAAE,GAAKF,MAAM,CAACE,EAAE,CAAE,CACvBY,OAAO,CAACC,GAAG,CAACF,IAAI,CAACT,GAAG,CAAEY,QAAQ,CAAChB,MAAM,CAACI,GAAG,CAAC,CAAEJ,MAAM,CAACM,KAAK,CAAGO,IAAI,CAACP,KAAK,CAAC,CACtEK,GAAG,CAACD,KAAK,CAAC,gCAAQG,IAAI,MAAET,GAAG,CAAEY,QAAQ,CAAChB,MAAM,CAACI,GAAG,CAAC,CAAGS,IAAI,CAACT,GAAG,CAAEE,KAAK,CAAEN,MAAM,CAACM,KAAK,CAAGO,IAAI,CAACP,KAAK,EAAE,CACpG,CACA,MAAOK,IAAG,CACd,CAAC,CAAC,CACF,MAAOA,IAAG,CAChB,IAAK,MAAM,CACP,GAAIM,SAAQ,CAAC,EAAE,CACf,MAAOA,SAAQ,CACnB,QAASH,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC,CAAC,CAE/C,CAAC,CAED,MAAO,IAAMG,aAAY,CAAG,QAAfA,aAAY,MAAkB,IAAbC,SAAQ,MAARA,QAAQ,CAEtC,gBAAuBxB,UAAU,CAACG,OAAO,CAAC,EAAE,CAAC,4CAAvCC,KAAK,iBAACqB,QAAQ,iBACpB,mBACE,KAAC,mBAAmB,CAAC,QAAQ,EAAC,KAAK,CAAEA,QAAS,uBAC5C,KAAC,gBAAgB,CAAC,QAAQ,EAAC,KAAK,CAAErB,KAAM,UACrCoB,QAAQ,EACiB,EACC,CAEjC,CAAC,CAED,MAAO,IAAME,QAAO,CAAG,QAAVA,QAAO,SAAS3B,WAAU,CAACE,gBAAgB,CAAC,GACzD,MAAO,IAAM0B,gBAAe,CAAG,QAAlBA,gBAAe,SAAS5B,WAAU,CAACG,mBAAmB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}